{"ast":null,"code":"var _jsxFileName = \"/home/raramuri/Desktop/fashionStore/src/components/context.js\";\nimport React, { Component } from \"react\";\nimport { KURTAS, detailProduct } from '../shared/Kurtas';\nconst ProductContext = React.createContext();\n\nclass ProductProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [],\n      cart: [],\n      modalOpen: false,\n      modalProduct: detailProduct,\n      CartSubTotal: 0,\n      CartTax: 0,\n      CartTotal: 0\n    };\n\n    this.setProducts = () => {\n      let products = [];\n      KURTAS.forEach(item => {\n        const singleItem = { ...item\n        };\n        products = [...products, singleItem];\n      });\n      this.setState(() => {\n        return {\n          products\n        };\n      });\n    };\n\n    this.getItem = cartid => {\n      const product = this.state.products.find(cloth => cloth.cartid === cartid);\n      return product;\n    };\n\n    this.handleDetail = cartid => {\n      const product = this.getItem(cartid);\n      this.setState(() => {\n        return {\n          detailProduct: product\n        };\n      });\n    };\n\n    this.addToCart = cartid => {\n      let tempProducts = [...this.state.products];\n      const index = tempProducts.indexOf(this.getItem(cartid));\n      const product = tempProducts[index];\n      product.inCart = true;\n      product.count = 1;\n      const price = product.price;\n      product.total = price;\n      this.setState(() => {\n        return {\n          products: [...tempProducts],\n          cart: [...this.state.cart, product]\n        };\n      }, () => this.addTotals());\n    };\n\n    this.openModal = cartid => {\n      window.scrollTo(350, 350);\n      const product = this.getItem(cartid);\n      this.setState(() => {\n        return {\n          modalProduct: product,\n          modalOpen: true\n        };\n      });\n    };\n\n    this.closeModal = () => {\n      this.setState(() => {\n        return {\n          modalOpen: false\n        };\n      });\n    };\n\n    this.increment = cartid => {\n      let tempCart = [...this.state.cart];\n      const selectedProduct = tempCart.find(item => {\n        return item.cartid === cartid;\n      });\n      const index = tempCart.indexOf(selectedProduct);\n      const product = tempCart[index];\n      product.count = product.count + 1;\n      product.total = product.count * product.price;\n      this.setState(() => {\n        return {\n          cart: [...tempCart]\n        };\n      }, () => this.addTotals());\n    };\n\n    this.decrement = cartid => {\n      let tempCart = [...this.state.cart];\n      const selectedProduct = tempCart.find(item => {\n        return item.cartid === cartid;\n      });\n      const index = tempCart.indexOf(selectedProduct);\n      const product = tempCart[index];\n      product.count = product.count - 1;\n\n      if (product.count === 0) {\n        this.removeItem(cartid);\n      } else {\n        product.total = product.count * product.price;\n        this.setState(() => {\n          return {\n            cart: [...tempCart]\n          };\n        }, () => this.addTotals());\n      }\n    };\n\n    this.removeItem = cartid => {\n      let tempProducts = [...this.state.products];\n      let tempCart = [...this.state.cart];\n      const index = tempProducts.indexOf(this.getItem(cartid));\n      let removedProduct = tempProducts[index];\n      removedProduct.inCart = false;\n      removedProduct.count = 0;\n      removedProduct.total = 0;\n      tempCart = tempCart.filter(item => {\n        return item.cartid !== cartid;\n      });\n      this.setState(() => {\n        return {\n          cart: [...tempCart],\n          products: [...tempProducts]\n        };\n      }, () => this.addTotals());\n    };\n\n    this.clearCart = carid => {\n      this.setState(() => {\n        return {\n          cart: []\n        };\n      });\n    };\n\n    this.addTotals = () => {\n      let SubTotal = 0;\n      this.state.cart.map(item => SubTotal += item.total);\n      const tempTax = SubTotal * .18;\n      const tax = parseFloat(tempTax.toFixed(2));\n      const total = SubTotal + tax;\n      this.setState(() => {\n        return {\n          CartSubTotal: SubTotal,\n          CartTax: tax,\n          CartTotal: total\n        };\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.setProducts();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(ProductContext.Provider, {\n      value: { ...this.state,\n        handleDetail: this.handleDetail,\n        addToCart: this.addToCart,\n        openModal: this.openModal,\n        closeModal: this.closeModal,\n        increment: this.increment,\n        decrement: this.decrement,\n        removeItem: this.removeItem,\n        clearCart: this.clearCart\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 7\n      }\n    }, this.props.children);\n  }\n\n}\n\nconst ProductConsumer = ProductContext.Consumer;\nexport { ProductProvider, ProductConsumer };","map":{"version":3,"sources":["/home/raramuri/Desktop/fashionStore/src/components/context.js"],"names":["React","Component","KURTAS","detailProduct","ProductContext","createContext","ProductProvider","state","products","cart","modalOpen","modalProduct","CartSubTotal","CartTax","CartTotal","setProducts","forEach","item","singleItem","setState","getItem","cartid","product","find","cloth","handleDetail","addToCart","tempProducts","index","indexOf","inCart","count","price","total","addTotals","openModal","window","scrollTo","closeModal","increment","tempCart","selectedProduct","decrement","removeItem","removedProduct","filter","clearCart","carid","SubTotal","map","tempTax","tax","parseFloat","toFixed","componentDidMount","render","props","children","ProductConsumer","Consumer"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {KURTAS,detailProduct} from '../shared/Kurtas';\nconst ProductContext = React.createContext();\n\nclass ProductProvider extends Component {\n  state = {\n      products: [],\n      cart: [],\n      modalOpen:false,\n      modalProduct:detailProduct,\n      CartSubTotal:0,\n      CartTax:0,\n      CartTotal:0,\n\n  };\n  componentDidMount() {\n    this.setProducts();\n  }\n\n  setProducts = () => {\n    let products = [];\n    KURTAS.forEach(item => {\n      const singleItem = { ...item };\n      products = [...products, singleItem];\n    });\n    this.setState(() => {\n      return { products };\n    });\n  };\n\n  getItem = (cartid) => {\n    const product = this.state.products.find(cloth => cloth.cartid === cartid );\n    return product;\n  };\n\n  handleDetail = cartid => {\n    const product = this.getItem(cartid);\n    this.setState(() => {\n      return { detailProduct: product };\n    });\n  };\n  addToCart = (cartid) => {\n    let tempProducts = [...this.state.products];\n    const index = tempProducts.indexOf(this.getItem(cartid));\n    const product = tempProducts[index];\n    product.inCart = true;\n    product.count = 1;\n    const price = product.price;\n    product.total = price;\n\n    this.setState(() => {\n      return {\n        products: [...tempProducts],\n        cart: [...this.state.cart, product],\n          };\n    },()=>this.addTotals());\n  };\n  openModal =cartid=>{\n       window.scrollTo(350, 350);\n      const product=this.getItem(cartid);\n      this.setState(()=>{\n          return { modalProduct: product , modalOpen:true };\n      });\n};\ncloseModal=()=>{\n    this.setState(()=>{\n        return{ modalOpen:false};\n    })\n}\nincrement=(cartid)=>{\n  let tempCart = [...this.state.cart];\n    const selectedProduct = tempCart.find(item => {\n      return item.cartid === cartid;\n    });\n    const index = tempCart.indexOf(selectedProduct);\n    const product = tempCart[index];\n    product.count = product.count + 1;\n    product.total = product.count * product.price;\n    this.setState(() => {\n      return {\n        cart: [...tempCart]\n      };\n    },() =>this.addTotals());\n}\ndecrement=(cartid)=>{\n  let tempCart = [...this.state.cart];\n    const selectedProduct = tempCart.find(item => {\n      return item.cartid === cartid;\n    });\n    const index = tempCart.indexOf(selectedProduct);\n    const product = tempCart[index];\n    product.count = product.count - 1;\n    if (product.count === 0) {\n      this.removeItem(cartid);\n    } else {\n      product.total = product.count * product.price;\n      this.setState(() => {\n        return { cart: [...tempCart] };\n      },() =>this.addTotals());\n    }\n}\nremoveItem=(cartid)=>{\n  let tempProducts=[...this.state.products];\n  let tempCart=[...this.state.cart];\n  const index = tempProducts.indexOf(this.getItem(cartid));\n    let removedProduct = tempProducts[index];\n    removedProduct.inCart = false;\n    removedProduct.count = 0;\n    removedProduct.total = 0;\n\n    tempCart = tempCart.filter(item => {\n      return item.cartid !== cartid;\n    });\n\n    this.setState(() => {\n      return {\n        cart: [...tempCart],\n        products: [...tempProducts]\n      };\n    },()=>this.addTotals());\n\n}\nclearCart=(carid)=>{\n  this.setState(()=>{\n    return{cart:[]}\n  })\n}\naddTotals=()=>{\n  let SubTotal=0;\n  this.state.cart.map(item=>(SubTotal+=item.total));\n  const tempTax=SubTotal*.18;\n  const tax=parseFloat(tempTax.toFixed(2));\n  const total=SubTotal+tax;\n  this.setState(()=>{\n      return{\n        CartSubTotal:SubTotal,\n      CartTax:tax,\n      CartTotal:total,\n      }\n  })\n\n\n}\n  \n  render() {\n    return (\n      <ProductContext.Provider\n        value={{\n          ...this.state,\n          handleDetail: this.handleDetail,\n          addToCart: this.addToCart,\n          openModal: this.openModal,\n          closeModal: this.closeModal,\n          increment:this.increment,\n          decrement:this.decrement,\n          removeItem:this.removeItem,\n          clearCart:this.clearCart,\n\n\n        }}\n      >\n        {this.props.children}\n      </ProductContext.Provider>\n    );\n  }\n}\n\nconst ProductConsumer = ProductContext.Consumer;\n\nexport { ProductProvider, ProductConsumer };\n"]},"metadata":{},"sourceType":"module"}